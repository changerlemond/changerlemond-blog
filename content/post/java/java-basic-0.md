---
title: "자바, 그리고 자바의 특징과 JVM 알아보기"
date: 2022-05-08T22:31:00+09:00
tags: ['java']
draft: false
---

자바, 그리고 자바의 특징과 JVM 알아보기
<!--more--> 

#
### Java란
썬 마이크로시스템즈에서 개발하여 1996년 1월에 공식적으로 발표한 객체지향 프로그래밍 언어이다.

자바의 가장 중요한 특징은 운영체제에 독립적이라는 것이다. 자바로 작성된 프로그램은 운영체제의 종류에 관계없이 실행이 가능하기 때문에 운영체제에 따라 프로그램을 전혀 변경하지 않고도 실행이 가능하다.


#
### Java의 특징
1. 운영체제에 독립적이다.

일종의 에뮬레이터인 자바가상머신을 통해서 가상한 것인데, 자바 응용프로그램은 운영체제나 하드웨어가 아닌 JVM하고만 통신하고 JVM이 자바 응용프로그램으로부터 전달 받은 명령을 해당 운영체제가 이해할 수 있도록 변환하여 전달한다.



2. 객체지향언어이다.

객체지향개념의 특징인 상속, 캡슐화, 다형성이 잘 적용된 수수한 객체지향언어.



3. 비교적 배우기 쉽다.

자바의 연산자와 기본구문은 C++에서, 객체지향관련 구문은 스몰톡(small talk)이라는 객체지향언어에서 가져왔다. 이들의 장점을 취하면서 복잡하고 불필요한 부분은 과감히 제거하여 단순화함으로서 쉽게 배울 수 있으며 간결하고 이해하기 쉬운 코드를 작성할 수 있도록 하였다.



4. 자동 메모리 관리(Garbage Collection)

가비지 컬렉터(garbage collector)가 자동적으로 메모리를 관리해주기 때문에 프로그래머는 메모리를 따로 관리하지 않아도 된다.



5. 네트워크와 분산처리를 지원한다.

다양한 네트워크 프로그래밍 라이브러리를 통해 비교적 짧은 시간에 네트워크 관련 프로그램을 쉽게 개발할 수 있도록 지원한다.



6. 멀티쓰레드를 지원한다.

일반적으로 멀티쓰레드의 지원은 운영체제에 따라 구현방법도 상이하며 처리방식도 다르지만 시스템과는 관계없이 구현 가능하며, 관련된 라이브러리가 제공되므로 구현이 쉽다. 그리고 여러 쓰레드에 대한 스케줄링을 자바 인터프리터가 담당하게 된다.   



7. 동적 로딩(Dynamic Loading)을 지원한다.

보통 자바로 작성도니 애플리케이션은 여러 개의 클래스로 구성되어 있다. 자바는 동적 로딩을 지원하기 때문에 실행 시에 모든 클래스가 로딩되지 않고 필요한 시점에 클래스를 로딩하여 사용할 수 있다는 장점이 있다. 일부 클래스가 변경되어도 전체 애플리케이션을 다시 컴파일하지 않아도 되며 비교적 적은 작업으로도 처리할 수 잇는 유연한 애플리케이션을 작성할 수 있다.


#
### 자바 가상 머신(JVM)
자바를 실행하기 위한 가상 기계라고 할 수 있다. 자바로 작성된 애플리케이션은 모두 이 가상 컴퓨터인 JVM에서만 실행되기 때문에 자바 애플리케이션이 실행되기 위해서는 반드시 JVM이 필요하다.


#
### 실행 순서
Java 애플리케이션 > JVM > OS > 컴퓨터(하드웨어)


자바의 컴파일 과정
1. 개발자가 자바 소스코드를 작성한다.

2. 자바 컴파일러가 자바 소스파일을 컴파일한다. 자바 바이트 코드 파일로 나오게 되는데, 자바 가상 머신만이 이해할 수 있는 코드이다.

바이트 코드의 각 명령어는 1바이트 크기의 Opcode와 추가 피연산자로 이루어져 있다.

3. 컴파일된 바이트 코드를 JVM의 클래스로더에게 전달한다.

4. 클래스 로더는 동적 로딩을 통해 필요한 클래스들을 로딩 및 링크하여 JVM의 메모리에 올린다.

*세부 동작: 로드 - 검증 - 준비 - 분석 - 초기화

5. 실행엔진은 JVM 메모리에 올라온 바이트 코드들을 명령어 단위로 하나씩 가져와서 실행한다. 실행엔진은 두가지 방식으로 변경한다.

인터프리터: 바이트 코드 명령어를 하나씩 읽어서 해석하고 실행한다. 하나하나의 실행은 빠르지만 전체적인 실행 속도가 느리다는 단점이 있다.
JIT 컴파일러: 인터프리터의 단점을 보완하기 위해 도입된 방식으로 바이트 코드 전체를 컴파일하여 바이너리 코드로 변경하고 그 이후에는 인터프리팅을 하지 않고 바이너리 코드를 직접 실행하는 방식. 전체적인 속도는 인터프리팅 방식보다 빠르다.


자바 메인함수
```
class Test { // 클래스 이름
    public static void main(String[] args) { // main 메서드의 선언부
        System.out.println("Hello world"); // 실행될 문장들을 적는다.
    } // 주석을 제외한 모든 코드는 클래스의 블럭 내에 작성해야 한다.
}
```

#
### 자바 메인함수 뜯어보기
public: 접근제어자 - 어느 곳에서든 해당 객체를 참조할 수 있다.

static: 정적 함수 - 자바가 컴파일 되는 순간 정의가 되면서 static이 아닌 객체로 정의가 된다. 객체를 생성하지 않고도 호출된다.

void: 리턴 값이 없다.

: 만약 static이 없다면 객체를 만들어줘야 하고, 생성자가 필요해지기 때문에 까다로워진다.

생성자에 제대로 된 인자값이 들어가지 않은 경우 객체를 만드는 데에 실패하고 메인 메서드를 호출하지 못하기 때문이다. 사용자가 어떤 인자값을 받을지는 JVM은 알 수 없다.



- String: 문자열

- []: 배열

- args: 변수명 (다른 변수명으로 바꾸어도 상관 없다.): String 객체로 정의된 args라는 이름의 배열로 파라미터를 받겠다는 의미   
*String은 원래 자바에서 제공하는 클래스이므로 대문자로 시작

####
String[] args, 안쓰면 안될까?

안 쓰면 안 된다. 반드시 String 배열을 파라미터로 받아야 한다.

만약 쓰지 않았을 경우 컴파일은 되지만 엔트리 포인트가 없어 실행할 수 없는 상태가 된다. JVM의 엔트리 포인트로 단 1개의 메인 메서드만 허용된다.



엔트리 포인트란 프로그램이 시작되는 시작점이며 main 함수가 엔트리 포인트로 사용된다. (python, javascript와 같은 스트립트 언어 제외)

단 오버로딩된 다른 형태의 main 함수는 엔트리 포인트로 동작하지 않는다.