---
title: "새로운 기술, 도입하면 무조건 좋을까?"
date: 2023-07-02T21:35:40+09:00
draft: false
---

새로운 기술 도입을 고민하면서 쓰는 글
<!--more--> 

#
### 새로운 기능, 새로운 기술?
프로젝트에서 새로운 기능을 만들게 되었다. 비슷하게는 이런 느낌의 기능이 필요한 상황이었다. <br>
https://oracleofbacon.org/

이러한 기능을 만들려면 어떻게 만들어야 할지, 어떤 기술을 사용해야 할지 고민하게 되었다.

#
### 새로운 기술 도입의 이유
이 기능을 만들기 위해서는 어떻게 만들 수 있을까 고민을 해보았다. 지금 MySQL + Elastic Search를 사용하고 있다.
하지만 지금 사용하고 있는 기술로는 이 기능을 만들기에는 적합하지 않다고 생각했다.
만들 수는 있지만, 성능이 많이 떨어질 수 밖에 없다고 생각했다.

물론 불가능한 것은 아니다. 하지만 MySQL에서는 복잡한 Join 쿼리가 많이 들어가게 되면서 성능이 많이 떨어지게 될 것이고,
Elastic Search는 텍스트 기반의 검색에 적합한 기술이기 때문에, 이러한 기능을 만들기에는 어려움이 따를 것으로 예상되었다.

내가 만들어야 하는 기능은 "연결성"이 기반이기 때문에 노드와 간선으로 이루어진 데이터 구조인 GraphDB를 사용하는 것이 좋을 것이라는 판단이 들었다.

<br>

#
### 새로운 기술, 도입은 좋지만...
우선 GraphDB의 종류를 알아봐야 했다. 지금 우리 프로젝트에서 쓰이면 가장 좋을 수 있을만한 기술.
기준은 아래와 같았다.

1. 관리형 서비스
2. 대용량 데이터에서도 성능이 좋은 것
3. 비용

이렇게 기준을 정했던 이유는 현재 프로젝트의 상황을 고려해서이다. 
지금 우리는 나 포함 3명이 백엔드 엔지니어로 일하고 있고, 인프라를 전문적으로 관리하는 인력은 없다.
그래서 관리에 부담이 가지 않으면서도, 비용이 과하게 많이 들지 않는 것이 최적이었다.

<br>

#
### GraphDB, 어떤 종류가 있을까?
GraphDB는 나에게 친숙한 주제는 아니다. 사실 지금 MySQL도 적응해나가는 중이다.
생각보다 MongoDB를 사용하면서 많이 까먹어버려서 (...)

그래서 GraphDB의 종류를 알아보기 위해 검색을 해보았다.
생각보다 많은 종류가 있었고, 나는 그 중에서도 세가지의 종류로 추렸다.

1. AWS Neptune
2. Neo4j
3. JanusGraph

이유는 가장 대중화되어 사람들이 많이 사용하고 있어 레퍼런스를 최대한 많이 찾을 수 있는 것을 위주로 했다.
GraphDB는 나에게만 친숙하지 않은 것이 아니라, 생각보다 아직까지는 많이 쓰이고 있지 않아서 레퍼런스가 많지 않은 것 같았다.

그래서 많이 쓰이면서도, 레퍼런스가 많고, 성능이 안정적인 기술 위주로 선정했다.

<br>

#
### 과연 도입이 최선일까?
그렇게 세가지의 기술을 선정했다. 그리고 이 기술들을 리서치하면서 특징들을 간단하게 정리해보았다.

<br>

**AWS Neptune**
- AWS에서 제공하는 관리형 서비스
- 비용이 꽤 비싼 편

<br>

**Neo4j**
- 가장 대중화되어 있는 GraphDB
- 오픈소스이지만 Cloud에서 제공하는 서비스를 사용할 수 있고, 단계별로 제공이 다름

<br>

**JanusGraph**
- 오픈소스이면서 대용량 데이터를 처리하는데 적합한 기술
- 직접 설치해서 운영해야 하고, 이에 맞는 DB인 Cassandra나 HBase를 추가로 설치해야 함

<br>

이렇게 세가지의 기술을 정리하고, 이 기술들을 리서치하면서 내린 결론을 이러했다.

```
비용 측면 고려: JanusGraph > Neo4j > AWS Neptune  
관리 측면 고려: AWS Neptune > Neo4j > JanusGraph  
성능 측면 고려: JanusGraph > AWS Neptune > Neo4j  
```

그래서 내린 결론은 JanusGraph를 사용하는 것이 가장 좋을 것이라고 생각했지만, 관리적인 부분을 고려하지 않을 수 없었다.
관리적인 측면을 고려해서 AWS 관리형인 Neptune을 사용하는 것 또한 프로젝트에는 부담이 되는 비용이었다.
Neo4j를 사용하는 것도 고려했지만 대용량 데이터가 되었을 때는 좋은 선택지가 될 수 없었고, 클라우드 형태에서 가장 비싼 단계를 사용해야 상세 로그를 제공받을 수 있었다.

그래서 과연 도입이 최선일까? 라는 생각이 들었다. 그래서 다시 생각해보았다.

<br>

#
### 그래도 도입을 해야할까?
이러한 기능을 만들기에는 GraphDB가 가장 적합하다고 생각했다. 하지만 도입을 하기에는 비용과 관리적인 측면에서 부담이 되었다.
그래서 다시 생각해보았다. 이 기능을 만들기 위해서는 GraphDB가 아니더라도 만들 수 있을까?

그래서 생각해본 것이 바로, "연결성"이라는 기능을 만들기 위해서는 GraphDB가 아니더라도 만들 수 있을 것이라는 생각이 들었다.
그럼 사용하고 있는 기술로 이 기능을 만들 수 있을까? 라는 생각이 들었다.

<br>

#
### 그래도 사용하고 있는 기술로 만들 수 있을까?
그래서 사용하고 있는 기술로 이 기능을 만들 수 있을까? 라는 생각이 들었다.
지금 사용하고 있는 기술은 MySQL과 Elastic Search이다. MySQL은 RDBMS이고, Elastic Search는 NoSQL이다.
그래서 이 두가지 기술로 이 기능을 만들 수 있을까? 라는 생각이 들었다.

RDBMS의 성격을 가진 MySQL은 데이터가 커지면 결국 성능 이슈가 발생할 수 밖에 없어서, 이 기능을 만들기에는 적합하지 않다고 생각했다.
이 기능의 특성상 쿼리를 많이 날리게 되고, 이는 결국 성능 이슈로 이어질 수 밖에 없다고 생각했다.

그래서 Elastic Search를 사용해서 이 기능을 만들 수 있을까? 라는 생각이 들었다.
Elastic Search는 NoSQL이고 검색에 최적화된 기술이기는 하지만 인덱스의 설계와 데이터를 잘 저장해두고 사용한다면 이 기능을 만들 수 있을 것이라고 생각했다.
그래서 오랜 시간 여러 설계들을 머릿속으로 해보았고, 이 기능을 만들 수 있을 것이라고 생각했다.

<br>

#
### 신기술 도입을 위한 고민
그래서 이 기능을 만들기 위해서는 신기술을 도입할 필요가 없다고 생각했다.
물론 앞으로 이 기능이 커진다면 신기술인 GraphDB를 도입할 필요가 있을 수 있지만, 지금 당장은 신기술을 도입할 필요가 없다고 생각했다.

지금 프로젝트의 상황과 요구사항을 고려하면 신기술을 도입하는 데에 더 많은 고민을 해야 했다.
인프라 운영, 인력 리소스, 그리고 이러한 기능이 새로 생기는 것이기 때문에 앞으로 어떻게 될지 알 수 없었다.
스타트업이라는 특성상 유저들의 반응에 따라 기능이 생기고 없어지고 하는 것은 빈번한 일이기 때문이다.

그래서 신기술을 도입하기 위해서는 더 많은 고민이 필요했다. 그래서 신기술을 도입하기 위해서는 어떤 고민을 해야할까? 라는 생각이 들었다.
많은 시간들을 어쩌면 코딩 없이 고민하는 시간만 많이 가진 것 같아서 일을 많이 못한 기분이기도 했다.

지금 생각해보면 이런 설계와 도입에 대한 고민이 많이 필요하구나를 느끼게 되었다.
특히나 프로젝트의 상황과 기능의 요구사항 등 고려할 부분들을 모두 고려해서 기술을 도입하고 선택하는 일은 정말 어렵지만 중요한 일이라는 것을 느꼈다.