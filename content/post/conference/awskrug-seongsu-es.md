---
title: "AWSKRUG 성수 - EKS에서 검색엔진 플랫폼 구축하기"
date: 2023-03-27T23:16:01+09:00
tags: ['conference', 'elastic-search']
draft: false
---

AWSKRUG 성수 모임 - EKS에서 검색엔진 플랫폼 구축하기를 듣고
<!--more--> 

아직 발표자료가 올라오지 않아서 간단하게 밋업 소감을 남겨보려고 한다. (매번 뒤로 넘겼더니 글을 미루게 됐다. 밀린 글만 몇개람...)

<br>

### 엘라스틱 서치와 친해지기?
우선 참여하게 된 건, 지인 개발자분이 알려주셔서 처음 참석해보게 됐다. 온라인으로는 많이 들어봤는데, 오프라인 참여는 처음이었다.
멀지 않기도 하고 익숙한 성수에다가 (전 회사 바로 맞은편인 무신사 건물...!) 아는 분들이 오신다고 해서 뵐 겸 해서 가게 됐다.

약간 망설였다면 엘라스틱 서치의 운영적인 부분에 대한 내용이 주된 내용으로 예상됐는데, 나는 운영이라고 하기엔 너무 부족하게 하고 있어서 (...)
굳이 어떤 쪽에 가깝냐 했을 때는 검색 개발쪽에 가까웠다 보니 내용을 이해할 수 있을까? 라는 걱정은 있었다. 
그래도 한번 들어두면 도움이 될 것 같아서 들어보지 뭐! 하고 참여하게 됐다.

<br>

### 걸음마 단계지만 잘 걷긴 했구나
지금 회사에서 엘라스틱 서치를 처음 쓰게 되었고 그렇다보니 분석기, 색인, 검색 등의 기본적인 내용도 잘 모르고 시작했다. 
그런 상태에서 부분 검색을 지원하고 싶어서 지금 standard analyzer를 사용하고 ngram filter를 추가해서 사용해보고 있는 중이다.

조금 놀랐던 건 무신사의 검색 첫걸음도 내가 적용한 내용과 거의 흡사 정도가 아니라 똑같았던 것 같다. ngram을 적용해두고 single node를 사용하고 있었다고 한다.
우리도 지금은 검색량이 많지 않고, 단순한 부분 검색을 지원하면서 유저에게 많은 검색결과를 주고 싶어서 ngram filter를 사용하고 있었다.
다들 비슷하게 기술 적용을 시작하는구나, 라는 생각이 들면서 나도 이렇게 걸음마 떼었구나...? 라는 생각이 들었던 내용이 있었다.

무신사의 검색 개발 단계를 보니 나도 저런 식으로 확장시킬 수 있을까? 라는 생각이 들었다. 지금 무신사는 여러 단계를 거쳐서 검색 기능을 개선해나가고 있었다.

<br>

### 엘라스틱 서치, 생성 방법이 여러가지네?
나는 지금 Amazon OpenSearch Service를 사용하고 있다. Elastic Cloud 정도가 내가 아는 다른 엘라스틱 서치의 다른 서비스였는데, 또 다른 방법들도 많구나를 알게 됐다.
그것도 꽤나 많구나를..! 

<div style="text-align:center">
    <img src="/images/conference/awskrug-seongsu-es/es.jpeg" alt="es" />
</div>

제일 인상 깊었던 건 무신사에서 지금 사용하고 있는 기술이기도 한 쿠버네티스로 띄우는 방식인 Elastic Cloud on Kubernetes 라는 방식이었다.
다른 분들의 이야기를 들어보니 보통 EC2에 올리는 방식을 많이 사용하는 것으로 알고 있었는데, 쿠버네티스에서 운영하는 방식도 지원하고 있었다는 내용은 처음 들어본 내용이었다.

나중에 나도 언젠가...써볼 일이 있을까? 라는 생각을 했다. 지금 우리 서비스에는 적합하지 않기 때문이다. 관리형의 장점을 누리는 것이 좋을 것 같긴 하지만 곧 바꿀 것 같기도 (...)
하지만 바꾸더라도 쿠버네티스로 띄우는 방식보다는 EC2로 띄우는 정도일 것 같다는 추측이다. 

그냥 밋업을 들으며 또 다시 투정 같은 생각이 든 걸 약간 남겨보자면 OpenSearch는 좀 비싸기도 하고, 버전 관리도 좀 애매하다. (안 쓰고 싶지만 완전 관리형이라 편하긴 하고...)

<br>

### 꿀팁들 배워가기
물론 나는 지금 테라폼은 기본밖에 잘 모르기도 하고, 실제 써본 적이 없어서 모르는 부분들도 많긴 했다. 그래도 들으면서 더 배워갈 수 있기도 했고, 한번 띄워봐야지! 라는 생각도 들더라.
지금 회사에서 데브옵스를 조금 하고는 있지만(?) 데브옵스는 사실 내가 많이 두려워하는 영역이기도 하다.
근데 이렇게 밋업에 와서 애기해주시는 내용을 듣고, 주변 개발자분들과 이야기를 나눠보면 나도 한번 해보고 싶은 생각이 드는 것 같다. 흥미롭게 이야기를 해주셔서 더 그런 것 같다.

코드로 관리하는 것이 역시 좋다는 생각이 들었다. 그래서 이런 방식을 많이 추구하는 이유인 것 같기도 하고. 스케일 인/아웃 하기가 꽤 편리해보였다.
여기에 딴 소리지만 데이터독은 돈 내고 쓸만한 서비스인 것 같긴 하다. (난...써볼 일이 있을까 싶지만...?) 밋업이나 컨퍼런스에서 들어보면 대부분 쓰는 것 같더라.

스케일 인아웃이 아무래도 제일 궁금했는데, 이 내용에서 여러 꿀팁들도 알려주셔서 나중에 이런 상황이 생겼을 때 참고할 수 있을만한 내용들을 배우게 될 수 있어서 좋았다.
나중에 발표자료를 공유받게 되면 한번 더 내용을 되짚어보려고 한다. 그러면서 혼자 테스트도 한번 해보고 싶고!

<div style="text-align:center">
    <img src="/images/conference/awskrug-seongsu-es/es-2.jpeg" alt="es" />
</div>

<br>

### 마지막으로 (feat. 뒷풀이)
이런 밋업 자리에서는 기술적인 내용들도 배워갈 수 있어서 좋지만, 참여하신 분들과 네트워킹을 할 수 있어서 더 좋은 자리라고 생각한다.
소심한 성격 탓에 (...) 아는 분들이 있어야 잘 참여하는 편이지만. 다른 분들은 어떤 개발적인 고민이 있으신지, 이슈들은 어떤게 있는지 등을 들어볼 수 있어서 재밌는 시간이기 때문이다.

다른 회사에서의 이야기는 아무래도 듣기 어렵다보니까, 이런 자리에서 들으면서 우리 회사에선 어떻게 하더라...? 라는 생각도 하게 되고 그 외에 여러 생각들을 해볼 수 있어서 더 좋은 것 같다.
가끔 이런 밋업들은 기회가 된다면 참여하고, 네트워킹도 잘 참여해봐야겠다고 생각했다!